---
title: "Figure 3 Draft 2"
fontsize: 12pt
date: "02_08_19 "
output:
  html_document:
    self_contained: false
    toc: true
    code_folding: hide
  github_document:
    pandoc_args: --webtex
---


```{r setup, echo=T, message=FALSE, warning=FALSE}
library(tidyverse)
library(cowplot)
library(broom) 
library(modelr) 
library(viridis)
library(lubridate)
library(hms)
library(knitr)
library(kableExtra)
library(patchwork)


knitr::opts_chunk$set(tidy.opts=list(width.cutoff=60),tidy=TRUE, echo = TRUE, message=FALSE, warning=FALSE, fig.align="center")

source("../../../IDA/tools/echem_processing_tools.R")
source("../../../IDA/tools/plotting_tools.R")

theme_set(theme_1())
```

```{r}
wt_ca <- read_csv("../data/08_31_18_fernanda_wt_CA.csv") %>% mutate(strain = 'WT')
dPHZ_ca <- read_csv("../data/08_31_18_fernanda_dPHZpyo_CA.csv") %>% mutate(strain = 'dPHZ')

df_ca <- bind_rows(wt_ca[seq(1,nrow(wt_ca), 100),],dPHZ_ca[seq(1,nrow(wt_ca), 100),])

ggplot(wt_ca[seq(1,nrow(wt_ca), 100),], aes(x = Time_h, y = I_nA)) + geom_point()

ggplot(dPHZ_ca[seq(1,nrow(wt_ca), 100),], aes(x = Time_h, y = I_nA)) + geom_point()

# Plot Layout
plot_ca <- ggplot(df_ca, aes(x = Time_h, y = I_nA, color = strain)) + geom_path(size=1)

# Plot Stylying
plot_ca_styled <- plot_ca+
  scale_color_manual(breaks = c('WT','dPHZ'),values = c('orange','blue'), labels = c('WT', expression(Delta*phz))) +
  labs(x = 'Time (Hours)', y = 'I (nA)', color = NULL)+
  theme(legend.position = c(0.2,0.75), legend.background = element_blank())

plot_ca_styled
```

```{r}
wt_gc <- read_csv("../data/WT_newMedia_postEquil_GC.txt", skip = 21,col_names =c('E', 'i1', 'i2', 't')) %>% mutate(strain='WT')
dphz_gc <- read_csv("../data/dPHZ_d3_newMedia_GC_3mVs.txt", skip = 0,col_names =c('E', 'i1', 'i2', 't') ) %>% mutate(strain = 'dPHZ')
dphz_pyo_gc <- read_csv("../data/A_75uM_PYO_GC_2.txt",skip = 21,col_names =c('E', 'i1', 'i2', 't')) %>% mutate(strain = 'dPHZ_PYO')

basic_gc <- bind_rows(wt_gc,dphz_gc,dphz_pyo_gc) 

ggplot(basic_gc, aes(x = E, y = i2, color = strain)) + geom_point() + 
  scale_x_reverse()
```